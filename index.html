<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="./public/index.css" />
    <script
      async
      src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"
    ></script>
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three/build/three.module.js"
        }
      }
    </script>
    <title>Corporation Inc. 3D</title>
  </head>
  <body>
    <div id="root-window">
      <div id="render-target">
        <div id="ui-toolbar">
          <button onclick="window.game.setGameSpeed(0)">0</button>
          <button onclick="window.game.setGameSpeed(5 )">1</button>
          <button onclick="window.game.setGameSpeed(3)">2</button>
          <button onclick="window.game.setGameSpeed(1)">3</button>

          <div id="time"></div>

          <div id="money"></div>
          <button
            id="button-select"
            class="ui-button selected"
            onclick="setActiveToolId(event, 'select')"
          >
            SELECT
          </button>
          <button
            id="button-office"
            class="ui-button"
            onclick="setActiveToolId(event, 'office')"
          >
            OFFICE
          </button>
          <button
            id="button-restroom"
            class="ui-button"
            onclick="setActiveToolId(event, 'restroom')"
          >
            RESTROOM
          </button>
          <button
            id="button-remove"
            class="ui-button"
            onclick="setActiveToolId(event, 'remove')"
          >
            REMOVE
          </button>
        </div>
      </div>
    </div>
    <script type="module">
      import { createGame } from "./src/game.js";

      let selectedControl = document.getElementById("button-select");

      window.onload = () => {
        window.game = createGame();
      };

      window.setActiveToolId = (event, toolId) => {
        if (selectedControl) {
          selectedControl.classList.remove("selected");
        }
        selectedControl = event.target;
        selectedControl.classList.add("selected");

        window.game.setActiveToolId(toolId);
      };
    </script>
  </body>
</html>
